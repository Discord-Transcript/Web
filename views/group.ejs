<% for (const msg of group) { %>
    <% const author = data.users[msg.author] %>
    <div class='message'>
        <% if (group.indexOf(msg) === 0) { %>
            <img is='message-avatar' src='<%= author.avatar %>' data-discriminator='<%= author.discriminator %>' alt='avatar' class='avatar'/>
        <% } else { %>
            <message-date type='time' timestamp='<%= msg.time %>'>
                <% const msgDate = new Date(msg.time) %>
                <%= msgDate.getHours().toString().padStart(2, '0') %>:<%= msgDate.getMinutes().toString().padStart(2, '0') %>
            </message-date>
        <% } %>
        <div class='contents'>
            <% if (group.indexOf(msg) === 0) { %>
                <div class='header' is='message-header'>
                    <span class='name'><%= author.username %></span>
                    <span class='badge'><%= author.badge %></span>
                    <message-date class='date' type='date' timestamp='<%= msg.time %>'>
                        <%= new Date(msg.time).toUTCString() %>
                    </message-date>
                </div>
            <% } %>
            <div class='markup'><%= msg.markdownContent %></div>
        </div>
    </div>
<% } %>
